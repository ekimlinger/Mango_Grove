/*! mango_grove 2016-04-25 */
function createPost(a){a.preventDefault();var b=$("#postMessageForm").serializeArray();$.each(b,function(a,b){newMessage[b.name]=b.value}),newMessage.global=!0,console.log("Data coming off form: ",newMessage),$("#guestTextarea").val(""),$("#guestEmail").val(""),$("#username").val(""),$.ajax({type:"POST",url:"/message",data:newMessage,success:showAllMessages,async:!1})}function loadGlobalFeed(a){allMessages=a,$(".comment-container").empty();for(var b=0;b<a.length;b++){var c=a[b];$(".comment-container").append('<div class="media animated fadeInRight"></div>');var d=$(".comment-container").children().last();d.append('<a class="forum-avatar" href="#"><img src="/vendors/Static_Seed_Project/img/a3.jpg" class="img-circle" alt="image"><div class="author-info"><strong>Posts:</strong> 543<br/><strong>Date of Post:</strong>'+c.date_created+"<br/></div></a>"),d.append('<div class="media-body"><h4 class="media-heading">Hampden-Sydney College in Virginia</h4>'+c.content+"<br/><br/>- "+c.name+"</div>")}}function showAllMessages(){var a=$(this).data("type")||"all",b=20,c=new Date(Date.now());$.ajax({type:"GET",url:"/message/global/"+a+"/"+b+"/"+c,success:loadGlobalFeed})}function showAllMangoMoments(){$(".comment-container").empty();for(var a=0;a<allMessages.length;a++){var b=allMessages[a];if("mm"==b.type){$(".comment-container").append('<div class="media animated fadeInRight"></div>');var c=$(".comment-container").children().last();c.append('<a class="forum-avatar" href="#"><img src="/vendors/Static_Seed_Project/img/a3.jpg" class="img-circle" alt="image"><div class="author-info"><strong>Posts:</strong> 543<br/><strong>Date of Post:</strong>'+b.date_created+"<br/></div></a>"),c.append('<div class="media-body"><h4 class="media-heading">Hampden-Sydney College in Virginia</h4>'+b.content+"<br/><br/>- "+b.name+"</div>")}}}function showAllShoutOuts(){$(".comment-container").empty();for(var a=0;a<allMessages.length;a++){var b=allMessages[a];if("so"==b.type){$(".comment-container").append('<div class="media animated fadeInRight"></div>');var c=$(".comment-container").children().last();c.append('<a class="forum-avatar" href="#"><img src="/vendors/Static_Seed_Project/img/a3.jpg" class="img-circle" alt="image"><div class="author-info"><strong>Posts:</strong> 543<br/><strong>Date of Post:</strong>'+b.date_created+"<br/></div></a>"),c.append('<div class="media-body"><h4 class="media-heading">Hampden-Sydney College in Virginia</h4>'+b.content+"<br/><br/>- "+b.name+"</div>")}}}function showAllAffirmations(){$(".comment-container").empty();for(var a=0;a<allMessages.length;a++){var b=allMessages[a];if("af"==b.type){$(".comment-container").append('<div class="media animated fadeInRight"></div>');var c=$(".comment-container").children().last();c.append('<a class="forum-avatar" href="#"><img src="/vendors/Static_Seed_Project/img/a3.jpg" class="img-circle" alt="image"><div class="author-info"><strong>Posts:</strong> 543<br/><strong>Date of Post:</strong>'+b.date_created+"<br/></div></a>"),c.append('<div class="media-body"><h4 class="media-heading">Hampden-Sydney College in Virginia</h4>'+b.content+"<br/><br/>- "+b.name+"</div>")}}}function dismissCheckbox(){var a=$.cookie($(".dismiss").attr("name"));a&&"true"==a?($(this).prop("checked",a),console.log("checked checkbox")):($("#welcomeModal").modal("show"),console.log("uncheck checkbox")),$(".dismiss").change(function(){$.cookie($(this).attr("name"),$(this).prop("checked"),{path:"/",expires:1})})}var newMessage={},allMessages;$(document).ready(function(){dismissCheckbox(),$("#composeSO").on("click",function(){$("#so").replaceWith('<input type="radio" checked name="type" value="so" id="so">'),$("#guestCommentModal").modal("show")}),$("#composeAF").on("click",function(){$("#af").replaceWith('<input type="radio" checked name="type" value="af" id="af">'),$("#guestCommentModal").modal("show")}),$("#composeMM").on("click",function(){$("#mm").replaceWith('<input type="radio" checked name="type" value="mm" id="mm">'),$("#guestCommentModal").modal("show")}),$("#shoutOut").on("click",showAllShoutOuts),$("#mangoMoment").on("click",showAllMangoMoments),$("#affirmation").on("click",showAllAffirmations),$("#all").on("click",showAllMessages),$("#createGuestPost").on("click",createPost),showAllMessages()});