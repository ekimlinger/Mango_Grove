/*! mango_grove 2016-04-25 */
function createPost(a){a.preventDefault();var b=$("#postMessageForm").serializeArray();$.each(b,function(a,b){newMessage[b.name]=b.value}),newMessage.global=!0,console.log("Data coming off form: ",newMessage),$.ajax({type:"POST",url:"/message",data:newMessage,success:getGlobalMessages})}function getGlobalMessages(){var a=$(this).data("type")||"all",b=20,c=new Date(Date.now());$.ajax({type:"GET",url:"/message/global/"+a+"/"+b+"/"+c,success:showAllGlobalFeed})}function showAllGlobalFeed(a){allMessages=a,console.log("Successful Get Request: ",a),$(".comment-container").empty(),console.log("Response from get route is: ",a);for(var b=0;b<a.length;b++){var c=a[b];console.log("Name: ",c.name),console.log("Content: ",c.content),$(".comment-container").append('<div class="media animated fadeInRight"></div>');var d=$(".comment-container").children().last();d.append('<a class="forum-avatar" href="#"><img src="/vendors/Static_Seed_Project/img/a3.jpg" class="img-circle" alt="image"><div class="author-info"><strong>Posts:</strong> 543<br/><strong>Date of Post:</strong>'+c.date_created+"<br/></div></a>"),d.append('<div class="media-body"><h4 class="media-heading">Hampden-Sydney College in Virginia</h4>'+c.content+"<br/><br/>- "+c.name+"</div>")}}function showAllMangoMoments(){$(".comment-container").empty();for(var a=0;a<allMessages.length;a++){var b=allMessages[a];if("mm"==b.type){$(".comment-container").append('<div class="media animated fadeInRight"></div>');var c=$(".comment-container").children().last();c.append('<a class="forum-avatar" href="#"><img src="/vendors/Static_Seed_Project/img/a3.jpg" class="img-circle" alt="image"><div class="author-info"><strong>Posts:</strong> 543<br/><strong>Date of Post:</strong>'+b.date_created+"<br/></div></a>"),c.append('<div class="media-body"><h4 class="media-heading">Hampden-Sydney College in Virginia</h4>'+b.content+"<br/><br/>- "+b.name+"</div>")}}}function showAllShoutOuts(){$(".comment-container").empty();for(var a=0;a<allMessages.length;a++){var b=allMessages[a];if("so"==b.type){$(".comment-container").append('<div class="media animated fadeInRight"></div>');var c=$(".comment-container").children().last();c.append('<a class="forum-avatar" href="#"><img src="/vendors/Static_Seed_Project/img/a3.jpg" class="img-circle" alt="image"><div class="author-info"><strong>Posts:</strong> 543<br/><strong>Date of Post:</strong>'+b.date_created+"<br/></div></a>"),c.append('<div class="media-body"><h4 class="media-heading">Hampden-Sydney College in Virginia</h4>'+b.content+"<br/><br/>- "+b.name+"</div>")}}}function showAllAffirmations(){$(".comment-container").empty();for(var a=0;a<allMessages.length;a++){var b=allMessages[a];if("af"==b.type){$(".comment-container").append('<div class="media animated fadeInRight"></div>');var c=$(".comment-container").children().last();c.append('<a class="forum-avatar" href="#"><img src="/vendors/Static_Seed_Project/img/a3.jpg" class="img-circle" alt="image"><div class="author-info"><strong>Posts:</strong> 543<br/><strong>Date of Post:</strong>'+b.date_created+"<br/></div></a>"),c.append('<div class="media-body"><h4 class="media-heading">Hampden-Sydney College in Virginia</h4>'+b.content+"<br/><br/>- "+b.name+"</div>")}}}var newMessage={},allMessages;$(document).ready(function(){$("#postMessageForm").on("submit",createPost),$("#shoutOut").on("click",showAllShoutOuts),$("#mangoMoment").on("click",showAllMangoMoments),$("#affirmation").on("click",showAllAffirmations),$("#all").on("click",getGlobalMessages),getGlobalMessages()});